{"name":"Cd-tool-stack","tagline":"source files to create a set of docker containers to use for continuous delivery purposes","body":"# CD Tools Demo\r\n\r\nThis GitHub repository contains Dockerfiles for running a set of Continuous Delivery Tools with a single command.\r\nThe diagram contains all tools used in the Docker containers.\r\n\r\n![Docker CD Tools](https://raw.githubusercontent.com/amesken/cd-tool-stack/master/screenshots/docker-cd-tools.png)\r\n\r\n\r\nThe setup is blatantly copied from https://blog.codecentric.de/en/2015/10/continuous-integration-platform-using-docker-container-jenkins-sonarqube-nexus-gitlab  , so all credits go to Marcel Birkner.\r\n\r\n## Prerequisites (Windows)\r\n\r\nYou should have Docker Toolbox installed, see https://www.docker.com/toolbox\r\n\r\nI am using docker-compose to start several docker container at once.\r\nSince all containers run in a single VM (virtualbox), this VM needs enough memory.\r\n\r\n### Step 0 - List Docker Machine\r\n\r\n```\r\n~/github/cd-tool-stack$ docker-machine ls\r\n\r\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM\r\ndefault   *        virtualbox   Running   tcp://192.168.99.100:2376\r\n```\r\n\r\n### Step 1 - Stop your docker VM\r\n\r\n```\r\ndocker-machine stop default\r\n```\r\n\r\n### Step 2 - Increase Memory via VirtualBox UI\r\n\r\nI am using 6000MB for my VM.\r\n\r\n![VirtualBox](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/virtualbox.png)\r\n\r\n### Step 3 - Start VM\r\n\r\n```\r\ndocker-machine start default\r\n```\r\n\r\n## Getting started\r\n\r\nCreate the folder structure used to mount the data volumes of the images:\r\n\r\n```\r\n<USER_HOME> = c:\\Users\\<USER_NAME>\r\n<DOCKER_VOLUMES> = <USER_HOME>\\docker\\data\r\n<DOCKER_VOLUMES>\\artifactory\\data\r\n<DOCKER_VOLUMES>\\artifactory\\logs\r\n<DOCKER_VOLUMES>\\artifactory\\backup\r\n<DOCKER_VOLUMES>\\jenkins\r\n<DOCKER_VOLUMES>\\sonarqube\\data\r\n<DOCKER_VOLUMES>\\sonarqube\\logs\r\n<DOCKER_VOLUMES>\\sonarqube\\extensions\r\n```\r\n\r\nTo get all docker containers up and running use:\r\n\r\n```\r\ngit clone git@github.com:amesken/cd-tool-stack.git\r\ncd cd-tool-stack\r\ndocker-compose up -d\r\n```\r\n\r\n## Access Tools\r\n\r\n| *Tool* | *Link* | *Credentials* |\r\n| ------------- | ------------- | ------------- |\r\n| Jenkins | http://${docker-machine ip default}:18080/ | no login required |\r\n| SonarQube | http://${docker-machine ip default}:19000/ | admin/admin |\r\n| Artifactory | http://${docker-machine ip default}:18081/artifactory | admin/password |\r\n| GitLab | http://${docker-machine ip default}:10080/ | root/5iveL!fe |\r\n| Selenium Grid | http://${docker-machine ip default}:4444/grid/console | no login required |\r\n\r\n## Screenshots\r\n\r\nHere is an overview of all tools:\r\n\r\n- GitLab is used for storing the Sourcecode\r\n- Jenkins contains build job and is triggered once projects in GitLab are updated\r\n- As part of the CI build, Jenkins triggers a static code analysis and the results are stored in SonarQube\r\n- The Maven build uses Artifactory as a Proxy Repository for all 3rd party libs. The build artefacts are deployed to the Artifactory Release Repository\r\n- The Selenium Grid contains Docker containers running Chrome and Firefox and is used for UI tests\r\n\r\n### Jenkins Jobs\r\n\r\nThere are several jobs preconfigured in Jenkins.\r\nThe Jobs cover the following tasks:\r\n\r\n- Continuous Integration Build with Maven\r\n- Unit Tests\r\n- Static Source Analysis results are stored in SonarQube\r\n- JaCoCo Test Coverage\r\n- Deployment to Artifactory\r\n- Jenkins Job DSL examples\r\n- Selenium UI Test\r\n\r\n![Conference App Jobs](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/jenkins-jobs-1.png)\r\n\r\n![Conference App CI Job](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/jenkins-jobs-2-conference-app-ci.png)\r\n\r\n### SonarQube Dashboard\r\n\r\n![Jenkins Jobs](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/sonar-analysis-conference-app.png)\r\n\r\n### Artifactory Repository\r\n\r\n![Artifactory Proxy Repository](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/artifactory.png)\r\n\r\n### Selenium Grid\r\n\r\n![Selenium Grid](https://github.com/amesken/cd-tool-stack/blob/master/screenshots/selenium-grid.png)\r\n","google":"UA-70105547-1","note":"Don't delete this file! It's used internally to help with page regeneration."}